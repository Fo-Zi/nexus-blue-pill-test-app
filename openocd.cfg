# OpenOCD configuration for Chinese Blue Pill (STM32F103C8T6)
# Using ST-Link V2 programmer

source [find interface/stlink.cfg]

# Handle Chinese clone chips with different ID codes
# Expected: 0x1ba01477, Found: 0x2ba01477 (common clone ID)
# Must be set BEFORE sourcing target config
set CPUTAPID 0x2ba01477

source [find target/stm32f1x.cfg]

# Disable reset for problematic Chinese boards
reset_config none

# Initialize and configure flash properly
init
halt